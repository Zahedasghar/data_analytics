<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-01-25">

<title>TidyTemplate</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="graphs_1_files/libs/clipboard/clipboard.min.js"></script>
<script src="graphs_1_files/libs/quarto-html/quarto.js"></script>
<script src="graphs_1_files/libs/quarto-html/popper.min.js"></script>
<script src="graphs_1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="graphs_1_files/libs/quarto-html/anchor.min.js"></script>
<link href="graphs_1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="graphs_1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="graphs_1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="graphs_1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="graphs_1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">TidyTemplate</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 25, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="tidytuesday" class="level1">
<h1>TidyTuesday</h1>
<p>Join the R4DS Online Learning Community in the weekly #TidyTuesday event! Every week we post a raw dataset, a chart or article related to that dataset, and ask you to explore the data. While the dataset will be “tamed”, it will not always be tidy! As such you might need to apply various R for Data Science techniques to wrangle the data into a true tidy format. The goal of TidyTuesday is to apply your R skills, get feedback, explore other’s work, and connect with the greater #RStats community! As such we encourage everyone of all skills to participate!</p>
</section>
<section id="load-the-weekly-data" class="level1">
<h1>Load the weekly Data</h1>
<p>Download the weekly data and make available in the <code>tt</code> object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> <span class="fu">tt_load</span>(<span class="st">"2023-01-24"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>--- Compiling #TidyTuesday Information for 2023-01-24 ----</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>--- There are 4 files available ---</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>--- Starting Download ---</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Downloading file 1 of 4: `survivalists.csv`
    Downloading file 2 of 4: `loadouts.csv`
    Downloading file 3 of 4: `episodes.csv`
    Downloading file 4 of 4: `seasons.csv`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>--- Download complete ---</code></pre>
</div>
</div>
</section>
<section id="readme" class="level1">
<h1>Readme</h1>
<p>Take a look at the readme for the weekly data to get insight on the dataset. This includes a data dictionary, source, and a link to an article on the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>tt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glimpse-data" class="level1">
<h1>Glimpse Data</h1>
<p>Take an initial look at the format of the data available.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>tt <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(glimpse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 94
Columns: 16
$ season              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2,…
$ name                &lt;chr&gt; "Alan Kay", "Sam Larson", "Mitch Mitchell", "Lucas…
$ age                 &lt;dbl&gt; 40, 22, 34, 32, 37, 44, 46, 24, 41, 31, 50, 44, 45…
$ gender              &lt;chr&gt; "Male", "Male", "Male", "Male", "Male", "Male", "M…
$ city                &lt;chr&gt; "Blairsville", "Lincoln", "Bellingham", "Quasqueto…
$ state               &lt;chr&gt; "Georgia", "Nebraska", "Massachusetts", "Iowa", "P…
$ country             &lt;chr&gt; "United States", "United States", "United States",…
$ result              &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7…
$ days_lasted         &lt;dbl&gt; 56, 55, 43, 39, 8, 6, 4, 4, 1, 0, 66, 64, 59, 57, …
$ medically_evacuated &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, F…
$ reason_tapped_out   &lt;chr&gt; NA, "Lost the mind game", "Realized he should actu…
$ reason_category     &lt;chr&gt; NA, "Family / personal", "Family / personal", "Fam…
$ team                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ day_linked_up       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ profession          &lt;chr&gt; "Corrections Officer", "Outdoor Gear Retailer", "B…
$ url                 &lt;chr&gt; "alan-kay", "sam-larson", "mitch-mitchell", "lucas…
Rows: 940
Columns: 6
$ version       &lt;chr&gt; "US", "US", "US", "US", "US", "US", "US", "US", "US", "U…
$ season        &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ name          &lt;chr&gt; "Alan Kay", "Alan Kay", "Alan Kay", "Alan Kay", "Alan Ka…
$ item_number   &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9…
$ item_detailed &lt;chr&gt; "Saw", "Axe", "Sleeping bag", "Large 2-quart pot", "Ferr…
$ item          &lt;chr&gt; "Saw", "Axe", "Sleeping bag", "Pot", "Ferro rod", "Cante…
Rows: 98
Columns: 11
$ version                &lt;chr&gt; "US", "US", "US", "US", "US", "US", "US", "US",…
$ season                 &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2,…
$ episode_number_overall &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, …
$ episode                &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 1, 2, 3, 4, …
$ title                  &lt;chr&gt; "And So It Begins", "Of Wolf and Man", "The Tal…
$ air_date               &lt;date&gt; 2015-06-18, 2015-06-25, 2015-07-02, 2015-07-09…
$ viewers                &lt;dbl&gt; 1.582, 1.697, 1.864, 2.082, 2.082, 2.181, 2.092…
$ quote                  &lt;chr&gt; "I went to the woods because I wished to live d…
$ author                 &lt;chr&gt; "Henry David Thoreau", "Nikita Khrushchev", "Ca…
$ imdb_rating            &lt;dbl&gt; 7.5, 7.7, 7.7, 7.7, 7.6, 7.6, 7.7, 7.7, 7.7, 8.…
$ n_ratings              &lt;dbl&gt; 135, 110, 104, 104, 99, 99, 97, 99, 93, 102, 75…
Rows: 9
Columns: 8
$ version       &lt;chr&gt; "US", "US", "US", "US", "US", "US", "US", "US", "US"
$ season        &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9
$ location      &lt;chr&gt; "Quatsino", "Quatsino", "Patagonia", "Quatsino ", "Selen…
$ country       &lt;chr&gt; "Canada", "Canada", "Argentina", "Canada", "Mongolia", "…
$ n_survivors   &lt;dbl&gt; 10, 10, 10, 14, 10, 10, 10, 10, 10
$ lat           &lt;dbl&gt; 50.72444, 50.72444, -41.00000, 50.72444, 49.75000, 61.50…
$ lon           &lt;dbl&gt; -127.49806, -127.49806, -68.00000, -127.49806, 106.50000…
$ date_drop_off &lt;date&gt; NA, NA, NA, NA, NA, NA, 2019-09-18, 2020-09-18, 2021-09-…</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$survivalists
# A tibble: 94 × 16
   season name     age gender city  state country result days_…¹ medic…² reaso…³
    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;   &lt;chr&gt;  
 1      1 Alan …    40 Male   Blai… Geor… United…      1      56 FALSE   &lt;NA&gt;   
 2      1 Sam L…    22 Male   Linc… Nebr… United…      2      55 FALSE   Lost t…
 3      1 Mitch…    34 Male   Bell… Mass… United…      3      43 FALSE   Realiz…
 4      1 Lucas…    32 Male   Quas… Iowa  United…      4      39 FALSE   Felt c…
 5      1 Dusti…    37 Male   Pitt… Penn… United…      5       8 FALSE   Fear o…
 6      1 Brant…    44 Male   Albe… Nort… United…      6       6 FALSE   Consum…
 7      1 Wayne…    46 Male   Sain… New … Canada       7       4 FALSE   Fear o…
 8      1 Joe R…    24 Male   Wind… Onta… Canada       8       4 FALSE   Loss o…
 9      1 Chris…    41 Male   Umat… Flor… United…      9       1 FALSE   Fear o…
10      1 Josh …    31 Male   Jack… Ohio  United…     10       0 FALSE   Fear o…
# … with 84 more rows, 5 more variables: reason_category &lt;chr&gt;, team &lt;chr&gt;,
#   day_linked_up &lt;dbl&gt;, profession &lt;chr&gt;, url &lt;chr&gt;, and abbreviated variable
#   names ¹​days_lasted, ²​medically_evacuated, ³​reason_tapped_out

$loadouts
# A tibble: 940 × 6
   version season name     item_number item_detailed                       item 
   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;                               &lt;chr&gt;
 1 US           1 Alan Kay           1 Saw                                 Saw  
 2 US           1 Alan Kay           2 Axe                                 Axe  
 3 US           1 Alan Kay           3 Sleeping bag                        Slee…
 4 US           1 Alan Kay           4 Large 2-quart pot                   Pot  
 5 US           1 Alan Kay           5 Ferro rod                           Ferr…
 6 US           1 Alan Kay           6 Water bottle/canteen                Cant…
 7 US           1 Alan Kay           7 300 yards single filament line wit… Fish…
 8 US           1 Alan Kay           8 Small gauge gill net                Gill…
 9 US           1 Alan Kay           9 3.5lb wire                          Wire 
10 US           1 Alan Kay          10 Knife                               Knife
# … with 930 more rows

$episodes
# A tibble: 98 × 11
   version season episod…¹ episode title air_date   viewers quote author imdb_…²
   &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;date&gt;       &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;
 1 US           1        1       1 And … 2015-06-18    1.58 I we… Henry…     7.5
 2 US           1        2       2 Of W… 2015-06-25    1.70 If y… Nikit…     7.7
 3 US           1        3       3 The … 2015-07-02    1.86 Exti… Carl …     7.7
 4 US           1        4       4 Stal… 2015-07-09    2.08 Hung… Alber…     7.7
 5 US           1        5       5 Wind… 2015-07-16    2.08 The … Micha…     7.6
 6 US           1        6       6 Rain… 2015-07-23    2.18 Extr… Rober…     7.6
 7 US           1        7       7 The … 2015-07-30    2.09 Huma… David…     7.7
 8 US           1        8       8 Afte… 2015-08-05   NA    This… Wayne      7.7
 9 US           1        9       9 The … 2015-08-06    1.80 If q… Sun T…     7.7
10 US           1       10      10 Brok… 2015-08-13    1.94 Does… May S…     8.2
# … with 88 more rows, 1 more variable: n_ratings &lt;dbl&gt;, and abbreviated
#   variable names ¹​episode_number_overall, ²​imdb_rating

$seasons
# A tibble: 9 × 8
  version season location           country   n_surviv…¹   lat    lon date_dro…²
  &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;date&gt;    
1 US           1 "Quatsino"         Canada            10  50.7 -127.  NA        
2 US           2 "Quatsino"         Canada            10  50.7 -127.  NA        
3 US           3 "Patagonia"        Argentina         10 -41    -68   NA        
4 US           4 "Quatsino "        Canada            14  50.7 -127.  NA        
5 US           5 "Selenge Province" Mongolia          10  49.8  106.  NA        
6 US           6 "Great Slave Lake" Canada            10  61.5 -114.  NA        
7 US           7 "Great Slave Lake" Canada            10  61.5 -114.  2019-09-18
8 US           8 "Chilko Lake"      Canada            10  51.3 -124.  2020-09-18
9 US           9 "Nunatsiavut"      Canada            10  59.7  -64.3 2021-09-18
# … with abbreviated variable names ¹​n_survivors, ²​date_drop_off</code></pre>
</div>
</div>
</section>
<section id="wrangle" class="level1">
<h1>Wrangle</h1>
<p>Explore the data and process it into a nice format for plotting! Access each dataset by name by using a dollarsign after the <code>tt</code> object and then the name of the data set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>survivalists <span class="ot">&lt;-</span> tt<span class="sc">$</span>survivalists</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>prefix <span class="ot">&lt;-</span> <span class="st">"https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-"</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>suffix <span class="ot">&lt;-</span> <span class="st">"-2048x1152.jpg"</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>loadouts <span class="ot">&lt;-</span> tt<span class="sc">$</span>loadouts <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(survivalists <span class="sc">%&gt;%</span> <span class="fu">select</span>(days_lasted, name), <span class="at">by =</span> <span class="st">"name"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">item_image =</span> <span class="fu">paste0</span>(prefix, <span class="fu">str_replace_all</span>(<span class="fu">str_to_lower</span>(item), <span class="st">" "</span>, <span class="st">"-"</span>), suffix))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in left_join(., survivalists %&gt;% select(days_lasted, name), by = "name"): Each row in `x` is expected to match at most 1 row in `y`.
ℹ Row 91 of `x` matches multiple rows.
ℹ If multiple matches are expected, set `multiple = "all"` to silence this
  warning.</code></pre>
</div>
</div>
</section>
<section id="visualize" class="level1">
<h1>Visualize</h1>
<p>Using your processed dataset, create your unique visualization.</p>
<section id="gt-item-images" class="level3">
<h3 class="anchored" data-anchor-id="gt-item-images">GT item images</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>loadouts <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(item, item_image) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text_transform</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> <span class="fu">c</span>(item_image)),</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fn =</span> <span class="cf">function</span>(x){</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">web_image</span>(</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">url =</span> x,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">height =</span> <span class="dv">100</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="wvfebrcbuc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#wvfebrcbuc) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#wvfebrcbuc) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#wvfebrcbuc) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#wvfebrcbuc) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#wvfebrcbuc) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#wvfebrcbuc) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#wvfebrcbuc) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#wvfebrcbuc) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#wvfebrcbuc) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#wvfebrcbuc) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#wvfebrcbuc) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#wvfebrcbuc) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#wvfebrcbuc) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#wvfebrcbuc) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wvfebrcbuc) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#wvfebrcbuc) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#wvfebrcbuc) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wvfebrcbuc) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#wvfebrcbuc) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wvfebrcbuc) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#wvfebrcbuc) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wvfebrcbuc) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#wvfebrcbuc) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wvfebrcbuc) .gt_left {
  text-align: left;
}

:where(#wvfebrcbuc) .gt_center {
  text-align: center;
}

:where(#wvfebrcbuc) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#wvfebrcbuc) .gt_font_normal {
  font-weight: normal;
}

:where(#wvfebrcbuc) .gt_font_bold {
  font-weight: bold;
}

:where(#wvfebrcbuc) .gt_font_italic {
  font-style: italic;
}

:where(#wvfebrcbuc) .gt_super {
  font-size: 65%;
}

:where(#wvfebrcbuc) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#wvfebrcbuc) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#wvfebrcbuc) .gt_indent_1 {
  text-indent: 5px;
}

:where(#wvfebrcbuc) .gt_indent_2 {
  text-indent: 10px;
}

:where(#wvfebrcbuc) .gt_indent_3 {
  text-indent: 15px;
}

:where(#wvfebrcbuc) .gt_indent_4 {
  text-indent: 20px;
}

:where(#wvfebrcbuc) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="item">item</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="item_image">item_image</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="item" class="gt_row gt_left">Saw</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-saw-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Axe</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-axe-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Sleeping bag</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-sleeping-bag-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Pot</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-pot-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Ferro rod</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-ferro-rod-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Canteen</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-canteen-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Fishing gear</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-fishing-gear-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Gillnet</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-gillnet-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Wire</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-wire-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Knife</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-knife-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Bivy bag</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-bivy-bag-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Bow and arrows</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-bow-and-arrows-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Sharpening stone</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-sharpening-stone-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Tarp</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-tarp-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Rations</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-rations-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Paracord</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-paracord-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Slingshot</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-slingshot-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Ground sheet</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-ground-sheet-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Multitool</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-multitool-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Frying pan</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-frying-pan-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Rope</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-rope-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Hammock</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-hammock-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Trapping wire</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-trapping-wire-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Soap</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-soap-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Shovel</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-shovel-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Scotch eyed auger</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-scotch-eyed-auger-2048x1152.jpg" style="height:100px;"></td></tr>
    <tr><td headers="item" class="gt_row gt_left">Salt</td>
<td headers="item_image" class="gt_row gt_left"><img src="https://cropper.watch.aetnd.com/cdn.watch.aetnd.com/sites/2/2019/06/alone-gear-salt-2048x1152.jpg" style="height:100px;"></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="bar-plot---days-lasted-by-season" class="level3">
<h3 class="anchored" data-anchor-id="bar-plot---days-lasted-by-season">Bar Plot - Days Lasted by Season</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>survivalists <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(season, days_lasted, <span class="at">group =</span> season, <span class="at">fill =</span> <span class="fu">factor</span>(season))) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">32</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"# of days lasted"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alone"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Days Lasted by Season"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> tt_caption)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/Visualize-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="survival-curves" class="level3">
<h3 class="anchored" data-anchor-id="survival-curves">Survival Curves</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> survivalists <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(season, <span class="at">name =</span> <span class="st">"season_survivalists"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="at">r=</span><span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_number =</span> <span class="fu">list</span>(<span class="dv">0</span><span class="sc">:</span>days_lasted)) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>r) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(day_number)) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(season, day_number, season_survivalists) <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_survival =</span> n <span class="sc">/</span> season_survivalists) <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(day_number, pct_survival, <span class="at">color =</span> <span class="fu">factor</span>(season))) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"Season "</span>, season))</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/Visualize2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Add overall survival curves</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> survivalists <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">add_count</span>(<span class="at">name =</span> <span class="st">"total_survivalists"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(<span class="at">r=</span><span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">day_number =</span> <span class="fu">list</span>(<span class="dv">0</span><span class="sc">:</span>days_lasted)) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(<span class="sc">-</span>r) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>              <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>(day_number)) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>              <span class="fu">count</span>(day_number, total_survivalists) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">pct_survival =</span> n <span class="sc">/</span> total_survivalists),</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(day_number, pct_survival),</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">lty =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">32</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"# of day lasted"</span>,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"% survived"</span>,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alone (TV Series)"</span>,</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Survival Curves by Season (vs. Overall)"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> tt_caption)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/Visualize2.5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="plot-item-average-days-lasted" class="level3">
<h3 class="anchored" data-anchor-id="plot-item-average-days-lasted">Plot Item Average Days Lasted</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>loadouts <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(item, <span class="at">name =</span> <span class="st">"total_loadouts"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(item, total_loadouts, <span class="at">wt =</span> days_lasted, <span class="at">name =</span> <span class="st">"total_days_lasted"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">days_lasted_per_loadout =</span> total_days_lasted <span class="sc">/</span> total_loadouts,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">item =</span> <span class="fu">fct_reorder</span>(item, days_lasted_per_loadout)) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(days_lasted_per_loadout, item, <span class="at">color =</span> item)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/Visualize3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="boxplot-item-days-lasted" class="level3">
<h3 class="anchored" data-anchor-id="boxplot-item-days-lasted">Boxplot Item Days Lasted</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>loadouts <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">item =</span> <span class="fu">fct_reorder</span>(item, days_lasted)) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(days_lasted, item)) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> item)) <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">32</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"# of day lasted"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alone (TV Series)"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Which items resulted in more days lasted?"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> tt_caption)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/Visualize4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="modeling-using-tidymodels" class="level2">
<h2 class="anchored" data-anchor-id="modeling-using-tidymodels">Modeling using Tidymodels</h2>
<section id="data-setup" class="level3">
<h3 class="anchored" data-anchor-id="data-setup">Data Setup</h3>
<p>Create sparse data for each survivalists’ items</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>alone <span class="ot">&lt;-</span> loadouts <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(name, days_lasted, season, item) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> <span class="fu">c</span>(name, days_lasted, season), </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_from =</span> item, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> n,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"item_"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"item_"</span>), <span class="sc">~</span><span class="fu">replace_na</span>(., <span class="dv">0</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>name, <span class="sc">-</span>season)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(alone)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 114
Columns: 28
$ days_lasted            &lt;dbl&gt; 56, 43, 39, 8, 6, 4, 4, 1, 0, 55, 60, 66, 59, 3…
$ item_saw               &lt;dbl&gt; 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1,…
$ item_axe               &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ item_sleeping_bag      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ item_pot               &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1,…
$ item_ferro_rod         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ item_canteen           &lt;dbl&gt; 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_fishing_gear      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1,…
$ item_gillnet           &lt;dbl&gt; 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1,…
$ item_wire              &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_knife             &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1,…
$ item_bivy_bag          &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,…
$ item_bow_and_arrows    &lt;dbl&gt; 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0,…
$ item_sharpening_stone  &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_tarp              &lt;dbl&gt; 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0,…
$ item_rations           &lt;dbl&gt; 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1,…
$ item_paracord          &lt;dbl&gt; 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0,…
$ item_slingshot         &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0,…
$ item_ground_sheet      &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,…
$ item_multitool         &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0,…
$ item_frying_pan        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,…
$ item_rope              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,…
$ item_hammock           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,…
$ item_trapping_wire     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_soap              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_shovel            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_scotch_eyed_auger &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ item_salt              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</code></pre>
</div>
</div>
<p>Split data into training/testing data sets</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ────────────────────────────────────── tidymodels 1.0.0 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ broom        1.0.0     ✔ rsample      1.1.1
✔ dials        1.1.0     ✔ tune         1.0.1
✔ infer        1.0.2     ✔ workflows    1.1.2
✔ modeldata    1.1.0     ✔ workflowsets 1.0.0
✔ parsnip      1.0.3     ✔ yardstick    1.1.0
✔ recipes      1.0.4     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──
✖ scales::discard() masks purrr::discard()
✖ Matrix::expand()  masks tidyr::expand()
✖ dplyr::filter()   masks stats::filter()
✖ recipes::fixed()  masks stringr::fixed()
✖ dplyr::lag()      masks stats::lag()
✖ Matrix::pack()    masks tidyr::pack()
✖ yardstick::spec() masks readr::spec()
✖ recipes::step()   masks stats::step()
✖ Matrix::unpack()  masks tidyr::unpack()
✖ recipes::update() masks Matrix::update(), stats::update()
• Learn how to get started at https://www.tidymodels.org/start/</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1977</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>alone_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(alone, <span class="at">strata =</span> days_lasted)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>alone_train <span class="ot">&lt;-</span> <span class="fu">training</span>(alone_split)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>alone_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(alone_split)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2003</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>alone_folds <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(alone_train, <span class="at">strata =</span> days_lasted)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>alone_folds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#  10-fold cross-validation using stratification 
# A tibble: 10 × 2
   splits          id    
   &lt;list&gt;          &lt;chr&gt; 
 1 &lt;split [72/12]&gt; Fold01
 2 &lt;split [76/8]&gt;  Fold02
 3 &lt;split [76/8]&gt;  Fold03
 4 &lt;split [76/8]&gt;  Fold04
 5 &lt;split [76/8]&gt;  Fold05
 6 &lt;split [76/8]&gt;  Fold06
 7 &lt;split [76/8]&gt;  Fold07
 8 &lt;split [76/8]&gt;  Fold08
 9 &lt;split [76/8]&gt;  Fold09
10 &lt;split [76/8]&gt;  Fold10</code></pre>
</div>
</div>
</section>
<section id="model-setup" class="level3">
<h3 class="anchored" data-anchor-id="model-setup">Model Setup</h3>
<p>Create the recipe</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>alone_rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(days_lasted <span class="sc">~</span> ., <span class="at">data =</span> alone_train)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>alone_rec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recipe

Inputs:

      role #variables
   outcome          1
 predictor         27</code></pre>
</div>
</div>
<p>Set up the Lasso (glmnet) model</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>lasso_spec <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>(<span class="at">penalty =</span> <span class="fu">tune</span>(), <span class="at">mixture =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glmnet"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>lasso_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(alone_rec) <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lasso_spec)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>lasso_wf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow ════════════════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: linear_reg()

── Preprocessor ────────────────────────────────────────────────────────────────
0 Recipe Steps

── Model ───────────────────────────────────────────────────────────────────────
Linear Regression Model Specification (regression)

Main Arguments:
  penalty = tune()
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
</section>
<section id="tune-the-model" class="level3">
<h3 class="anchored" data-anchor-id="tune-the-model">Tune the model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>lambda_grid <span class="ot">&lt;-</span> <span class="fu">grid_regular</span>(<span class="fu">penalty</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">0</span>)), <span class="at">levels =</span> <span class="dv">20</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>doParallel<span class="sc">::</span><span class="fu">registerDoParallel</span>()</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2010</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>lasso_rs <span class="ot">&lt;-</span> <span class="fu">tune_grid</span>(</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  lasso_wf,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">resamples =</span> alone_folds,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> lambda_grid</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>lasso_rs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Tuning results
# 10-fold cross-validation using stratification 
# A tibble: 10 × 4
   splits          id     .metrics          .notes          
   &lt;list&gt;          &lt;chr&gt;  &lt;list&gt;            &lt;list&gt;          
 1 &lt;split [72/12]&gt; Fold01 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 2 &lt;split [76/8]&gt;  Fold02 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 3 &lt;split [76/8]&gt;  Fold03 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 4 &lt;split [76/8]&gt;  Fold04 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 5 &lt;split [76/8]&gt;  Fold05 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 6 &lt;split [76/8]&gt;  Fold06 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 7 &lt;split [76/8]&gt;  Fold07 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 8 &lt;split [76/8]&gt;  Fold08 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
 9 &lt;split [76/8]&gt;  Fold09 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;
10 &lt;split [76/8]&gt;  Fold10 &lt;tibble [40 × 5]&gt; &lt;tibble [0 × 3]&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(lasso_rs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/EvaluateModel-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">show_best</span>(lasso_rs, <span class="st">"rmse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 7
  penalty .metric .estimator  mean     n std_err .config              
    &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;                
1   1     rmse    standard    24.8    10    1.41 Preprocessor1_Model20
2   0.695 rmse    standard    24.8    10    1.49 Preprocessor1_Model19
3   0.483 rmse    standard    24.9    10    1.60 Preprocessor1_Model18
4   0.336 rmse    standard    25.2    10    1.69 Preprocessor1_Model17
5   0.234 rmse    standard    25.6    10    1.77 Preprocessor1_Model16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>best_rmse <span class="ot">&lt;-</span> <span class="fu">select_best</span>(lasso_rs, <span class="st">"rmse"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>final_lasso <span class="ot">&lt;-</span> <span class="fu">finalize_workflow</span>(lasso_wf, best_rmse)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>final_lasso</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow ════════════════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: linear_reg()

── Preprocessor ────────────────────────────────────────────────────────────────
0 Recipe Steps

── Model ───────────────────────────────────────────────────────────────────────
Linear Regression Model Specification (regression)

Main Arguments:
  penalty = 1
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
</section>
<section id="train-evaluate-the-model" class="level3">
<h3 class="anchored" data-anchor-id="train-evaluate-the-model">Train &amp; Evaluate the Model</h3>
<p>The function last_fit() fits this finalized lasso model one last time to the training data and evaluates one last time on the testing data. The metrics are computed on the testing data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>alone_final <span class="ot">&lt;-</span> <span class="fu">last_fit</span>(final_lasso, alone_split)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">collect_metrics</span>(alone_final)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  .metric .estimator .estimate .config             
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               
1 rmse    standard     28.1    Preprocessor1_Model1
2 rsq     standard      0.0466 Preprocessor1_Model1</code></pre>
</div>
</div>
</section>
<section id="explain-the-results-of-the-model" class="level3">
<h3 class="anchored" data-anchor-id="explain-the-results-of-the-model">Explain the Results of the Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'vip'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    vi</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>alone_vip <span class="ot">&lt;-</span> <span class="fu">extract_fit_parsnip</span>(alone_final<span class="sc">$</span>.workflow[[<span class="dv">1</span>]]) <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">vi</span>()</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>alone_vip <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">str_remove</span>(Variable, <span class="st">"item_"</span>),</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">str_replace_all</span>(Variable, <span class="st">"_"</span>, <span class="st">" "</span>),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">str_to_title</span>(Variable),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Importance =</span> <span class="fu">if_else</span>(Sign <span class="sc">==</span> <span class="st">"POS"</span>, <span class="fu">abs</span>(Importance), <span class="sc">-</span>Importance),</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">fct_reorder</span>(Variable, Importance),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Importance, Variable, <span class="at">fill =</span> Sign)) <span class="sc">+</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">1.25</span>, <span class="at">lty =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FF784F"</span>, <span class="st">"#2364AA"</span>)) <span class="sc">+</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"gray15"</span>),</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"gray15"</span>),</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">160</span>, <span class="at">family =</span> <span class="st">"blops"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">68</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">64</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">36</span>),</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">36</span>),</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">32</span>),</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># panel.grid.major.x = element_blank(),</span></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Importance"</span>,</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Alone (TV Series)"</span>,</span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Which items should survivalists take with them?"</span>,</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> tt_caption)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="graphs_1_files/figure-html/VariableImportance-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="save-image" class="level1">
<h1>Save Image</h1>
<p>Save your image for sharing. Be sure to use the <code>#TidyTuesday</code> hashtag in your post on twitter!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This will save your most recent plot</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">filename =</span> <span class="st">"2023_01_24_tidy_tuesday_alone2.png"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">device =</span> <span class="st">"png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>