<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.299">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Zahid Asghar">

<title>The 5 verbs of dplyr</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="teachR_files/libs/clipboard/clipboard.min.js"></script>
<script src="teachR_files/libs/quarto-html/quarto.js"></script>
<script src="teachR_files/libs/quarto-html/popper.min.js"></script>
<script src="teachR_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="teachR_files/libs/quarto-html/anchor.min.js"></script>
<link href="teachR_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="teachR_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="teachR_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="teachR_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="teachR_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The 5 verbs of dplyr</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Zahid Asghar </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="getting-started" class="level1">
<h1>Getting started</h1>
<p>Once you have installed R, Rtools (in some cases using Windows) and RStudio</p><div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/ZNBZevfYgo0" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>, you need to install a package. A package is like fixing a bulb and you have to do it only once. Once you have installed relevant package(s), next is to recall it using <code>library()</code> which is like switching on a button of a bulb. There is base-R commands but very easy and useful is to learn <code>tidyverse</code> which consists of many useful packages, we will talk later on.<p></p>
<p>As always, the first thing we will do is load the tidyverse.</p>
<p><em>Note: If you haven’t yet installed the tidyverse, you’ll first have to run the code install.packages(“tidyverse”).</em> You may get some warnings when you recall it. Ignore these warnings and go ahead. What are errors, warnings and messages, you may watch my video </p><div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/SRSNdCZ_QnE" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>.<p></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="verbs" class="level1">
<h1>5 verbs</h1>
<section id="arrange" class="level2">
<h2 class="anchored" data-anchor-id="arrange">arrange</h2>
</section>
<section id="select" class="level2">
<h2 class="anchored" data-anchor-id="select">select</h2>
</section>
<section id="mutate" class="level2">
<h2 class="anchored" data-anchor-id="mutate">mutate</h2>
</section>
<section id="filter" class="level2">
<h2 class="anchored" data-anchor-id="filter">filter</h2>
</section>
<section id="summarise" class="level2">
<h2 class="anchored" data-anchor-id="summarise">summarise</h2>
<p>To study these five verbs, I am going to work with a very simple data. We shall use it for big data later on once you understand these <code>5 verbs</code>.</p>
<p>Here’s the dataframe that we’ll analyze in this exercise. This type of data can also be directly imported from <code>excel</code> ,<code>csv</code> ,<code>stata</code>, <code>spss</code> and other softwares in R. But at the moment I have data entered in R. Each variable is a <code>vector</code>. <code>name</code>, <code>school</code>, <code>teacher</code> are <code>character</code> vectors while others are numeric. When one has mixture of numeric, character, factor vectors combined, its called data frame or we shall use term <code>tibble</code> which is just a better display of <code>data frame</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">&lt;-</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"munir"</span>, <span class="st">"raeesa"</span>, <span class="st">"rafiq"</span>, <span class="st">"maria"</span>, <span class="st">"pervaiz"</span>, <span class="st">"jamila"</span>, <span class="st">"bobby"</span>, <span class="st">"saima"</span>, <span class="st">"alina"</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">school =</span> <span class="fu">c</span>(<span class="st">"rural"</span>, <span class="st">"rural"</span>, <span class="st">"rural"</span>, <span class="st">"rural"</span>, <span class="st">"urban"</span>, <span class="st">"urban"</span>, <span class="st">"urban"</span>, <span class="st">"rural"</span>, <span class="st">"rural"</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">teacher =</span> <span class="fu">c</span>(<span class="st">"jamil"</span>, <span class="st">"jamil"</span>, <span class="st">"jamil"</span>, <span class="st">"jamil"</span>,  <span class="st">"sami"</span>, <span class="st">"sami"</span>, <span class="st">"sami"</span>, <span class="st">"fareeha"</span>, <span class="st">"fareeha"</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex =</span> <span class="fu">c</span>(<span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"female"</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">math_score =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">reading_score =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">4</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lets have a look at data as follows :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>scores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil   male            4             1
2 raeesa  rural  jamil   female          3             5
3 rafiq   rural  jamil   male            2             2
4 maria   rural  jamil   female          4             4
5 pervaiz urban  sami    male            3             5
6 jamila  urban  sami    female          4             4
7 bobby   urban  sami    male            5             1
8 saima   rural  fareeha female          4             5
9 alina   rural  fareeha female          5             4</code></pre>
</div>
</div>
<p>Before we get started, I want to make sure you <strong>understand the difference between doing something and assigning it to a new name and just doing it without naming it</strong>. Assigning means we have defined a new data name while doing simply means you can do but its not stored. In first line, we are getting first 4 rows but not assigning it any new name, while in the second line we are assigning it as a new data name called <code>scores_small</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the first 4 rows</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir  rural  jamil   male            4             1
2 raeesa rural  jamil   female          3             5
3 rafiq  rural  jamil   male            2             2
4 maria  rural  jamil   female          4             4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the first 4 rows, and assign it to a new name "scores_small"</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>scores_small <span class="ot">&lt;-</span> scores <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># see what's in "scores_small"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>scores_small</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir  rural  jamil   male            4             1
2 raeesa rural  jamil   female          3             5
3 rafiq  rural  jamil   male            2             2
4 maria  rural  jamil   female          4             4</code></pre>
</div>
</div>
<p>So if you want to just get results but dont want to assign them, then you can proceed as in the following exercises. You can use <code>&lt;-</code> or <code>=</code> operator if want to save.</p>
</section>
</section>
<section id="arrange-1" class="level1">
<h1>Arrange</h1>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example</h2>
<p><strong>Question:</strong> Sort the data by reading_score from high to low. Who had the worst reading score?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(reading_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil   male            4             1
2 bobby   urban  sami    male            5             1
3 rafiq   rural  jamil   male            2             2
4 maria   rural  jamil   female          4             4
5 jamila  urban  sami    female          4             4
6 alina   rural  fareeha female          5             4
7 raeesa  rural  jamil   female          3             5
8 pervaiz urban  sami    male            3             5
9 saima   rural  fareeha female          4             5</code></pre>
</div>
</div>
<p><strong>Answer:</strong> Munir and Bobby both tied for the lowest reading score</p>
<p><strong>Who had the highest reading score</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>reading_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 raeesa  rural  jamil   female          3             5
2 pervaiz urban  sami    male            3             5
3 saima   rural  fareeha female          4             5
4 maria   rural  jamil   female          4             4
5 jamila  urban  sami    female          4             4
6 alina   rural  fareeha female          5             4
7 rafiq   rural  jamil   male            2             2
8 munir   rural  jamil   male            4             1
9 bobby   urban  sami    male            5             1</code></pre>
</div>
</div>
<p>Raeesa and Pervaiz both tied for the highest score.</p>
</section>
<section id="q1" class="level2">
<h2 class="anchored" data-anchor-id="q1">Q1</h2>
<p><strong>Question:</strong> Sort the data by name from last to first in the alphabet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 saima   rural  fareeha female          4             5
2 rafiq   rural  jamil   male            2             2
3 raeesa  rural  jamil   female          3             5
4 pervaiz urban  sami    male            3             5
5 munir   rural  jamil   male            4             1
6 maria   rural  jamil   female          4             4
7 jamila  urban  sami    female          4             4
8 bobby   urban  sami    male            5             1
9 alina   rural  fareeha female          5             4</code></pre>
</div>
</div>
</section>
<section id="q2" class="level2">
<h2 class="anchored" data-anchor-id="q2">Q2</h2>
<p><strong>Question:</strong> Sort the data by sex so females show up first. Which sex appears to have better reading scores?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 raeesa  rural  jamil   female          3             5
2 maria   rural  jamil   female          4             4
3 jamila  urban  sami    female          4             4
4 saima   rural  fareeha female          4             5
5 alina   rural  fareeha female          5             4
6 munir   rural  jamil   male            4             1
7 rafiq   rural  jamil   male            2             2
8 pervaiz urban  sami    male            3             5
9 bobby   urban  sami    male            5             1</code></pre>
</div>
</div>
<p><strong>Answer:</strong> Females seem to have better reading scores – they all got either 4 or 5.</p>
</section>
<section id="q3" class="level2">
<h2 class="anchored" data-anchor-id="q3">Q3</h2>
<p><strong>Question:</strong> Sort the data by school, then teacher, then sex, then math_score, and finally by reading_score.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(school, teacher, sex, math_score, reading_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 saima   rural  fareeha female          4             5
2 alina   rural  fareeha female          5             4
3 raeesa  rural  jamil   female          3             5
4 maria   rural  jamil   female          4             4
5 rafiq   rural  jamil   male            2             2
6 munir   rural  jamil   male            4             1
7 jamila  urban  sami    female          4             4
8 pervaiz urban  sami    male            3             5
9 bobby   urban  sami    male            5             1</code></pre>
</div>
</div>
</section>
</section>
<section id="select-1" class="level1">
<h1>Select</h1>
<section id="example-1" class="level2">
<h2 class="anchored" data-anchor-id="example-1">Example</h2>
<p><strong>Question:</strong> Select only the name, math_score, and reading_score columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, math_score, reading_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  name    math_score reading_score
  &lt;chr&gt;        &lt;dbl&gt;         &lt;dbl&gt;
1 munir            4             1
2 raeesa           3             5
3 rafiq            2             2
4 maria            4             4
5 pervaiz          3             5
6 jamila           4             4
7 bobby            5             1
8 saima            4             5
9 alina            5             4</code></pre>
</div>
</div>
</section>
<section id="q1-1" class="level2">
<h2 class="anchored" data-anchor-id="q1-1">Q1</h2>
<p><strong>Question:</strong> Select all of the columns except the sex column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 5
  name    school teacher math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil            4             1
2 raeesa  rural  jamil            3             5
3 rafiq   rural  jamil            2             2
4 maria   rural  jamil            4             4
5 pervaiz urban  sami             3             5
6 jamila  urban  sami             4             4
7 bobby   urban  sami             5             1
8 saima   rural  fareeha          4             5
9 alina   rural  fareeha          5             4</code></pre>
</div>
</div>
</section>
<section id="q2-1" class="level2">
<h2 class="anchored" data-anchor-id="q2-1">Q2</h2>
<p><strong>Question:</strong> Select all of the columns except the math_score and reading_score columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>math_score, <span class="sc">-</span>reading_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  name    school teacher sex   
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; 
1 munir   rural  jamil   male  
2 raeesa  rural  jamil   female
3 rafiq   rural  jamil   male  
4 maria   rural  jamil   female
5 pervaiz urban  sami    male  
6 jamila  urban  sami    female
7 bobby   urban  sami    male  
8 saima   rural  fareeha female
9 alina   rural  fareeha female</code></pre>
</div>
</div>
</section>
<section id="q3-1" class="level2">
<h2 class="anchored" data-anchor-id="q3-1">Q3</h2>
<p><strong>Question:</strong> Keep all of the columns but rearrange them so sex is the first column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sex, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  sex    name    school teacher math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;        &lt;dbl&gt;         &lt;dbl&gt;
1 male   munir   rural  jamil            4             1
2 female raeesa  rural  jamil            3             5
3 male   rafiq   rural  jamil            2             2
4 female maria   rural  jamil            4             4
5 male   pervaiz urban  sami             3             5
6 female jamila  urban  sami             4             4
7 male   bobby   urban  sami             5             1
8 female saima   rural  fareeha          4             5
9 female alina   rural  fareeha          5             4</code></pre>
</div>
</div>
</section>
</section>
<section id="filter-1" class="level1">
<h1>Filter</h1>
<section id="example-2" class="level2">
<h2 class="anchored" data-anchor-id="example-2">Example</h2>
<p><strong>Question:</strong> Filter to students who are male and went to rural area school.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Option 1</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"male"</span> <span class="sc">&amp;</span> school <span class="sc">==</span> <span class="st">"rural"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  name  school teacher sex   math_score reading_score
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;         &lt;dbl&gt;
1 munir rural  jamil   male           4             1
2 rafiq rural  jamil   male           2             2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Option 2</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"male"</span>, school <span class="sc">==</span> <span class="st">"rural"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  name  school teacher sex   math_score reading_score
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;         &lt;dbl&gt;
1 munir rural  jamil   male           4             1
2 rafiq rural  jamil   male           2             2</code></pre>
</div>
</div>
</section>
<section id="q1-2" class="level2">
<h2 class="anchored" data-anchor-id="q1-2">Q1</h2>
<p><strong>Question:</strong> Filter to students who did well in math (you decide what “well” means).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(math_score <span class="sc">&gt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir  rural  jamil   male            4             1
2 maria  rural  jamil   female          4             4
3 jamila urban  sami    female          4             4
4 bobby  urban  sami    male            5             1
5 saima  rural  fareeha female          4             5
6 alina  rural  fareeha female          5             4</code></pre>
</div>
</div>
</section>
<section id="q2-2" class="level2">
<h2 class="anchored" data-anchor-id="q2-2">Q2</h2>
<p><strong>Question:</strong> Use filter to figure out how many students had a math score of 4 or more and a reading score of 3 or more.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(math_score <span class="sc">&gt;=</span> <span class="dv">4</span>, reading_score <span class="sc">&gt;=</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 maria  rural  jamil   female          4             4
2 jamila urban  sami    female          4             4
3 saima  rural  fareeha female          4             5
4 alina  rural  fareeha female          5             4</code></pre>
</div>
</div>
<p><strong>Answer</strong> There are 4 such students.</p>
</section>
<section id="q3-2" class="level2">
<h2 class="anchored" data-anchor-id="q3-2">Q3</h2>
<p><strong>Question:</strong> Explain the errors in each of the following code blocks, then fix it to make it right!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># code block 1</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school <span class="sc">==</span> rural)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `filter()`:
ℹ In argument: `school == rural`.
Caused by error:
! object 'rural' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># code block 2</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="at">school =</span> <span class="st">"rural"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `filter()`:
! We detected a named input.
ℹ This usually means that you've used `=` instead of `==`.
ℹ Did you mean `school == "rural"`?</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fix it! </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school <span class="sc">==</span> <span class="st">"rural"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir  rural  jamil   male            4             1
2 raeesa rural  jamil   female          3             5
3 rafiq  rural  jamil   male            2             2
4 maria  rural  jamil   female          4             4
5 saima  rural  fareeha female          4             5
6 alina  rural  fareeha female          5             4</code></pre>
</div>
</div>
<p><strong>Answer:</strong> Code block 1 doesn’t use quotation marks so R thinks it is looking for an object not a word. Code block 2 uses only one equals sign “=” when we need two equals signs “==” for comparison.</p>
</section>
<section id="q4" class="level2">
<h2 class="anchored" data-anchor-id="q4">Q4</h2>
<p><strong>Question:</strong> You are creating a remediation program. Filter to students who got a 3 or worse in either math or reading.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(math_score <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">|</span> reading_score <span class="sc">&lt;=</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil   male            4             1
2 raeesa  rural  jamil   female          3             5
3 rafiq   rural  jamil   male            2             2
4 pervaiz urban  sami    male            3             5
5 bobby   urban  sami    male            5             1</code></pre>
</div>
</div>
</section>
<section id="q5" class="level2">
<h2 class="anchored" data-anchor-id="q5">Q5</h2>
<p><strong>Question:</strong> Filter to students who got a reading score of 2, 3, or 4.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># option 1</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(reading_score <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 rafiq  rural  jamil   male            2             2
2 maria  rural  jamil   female          4             4
3 jamila urban  sami    female          4             4
4 alina  rural  fareeha female          5             4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># option 2 (if you know that 1 and 5 are the only other 2 options)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(reading_score <span class="sc">!=</span> <span class="dv">1</span>, reading_score <span class="sc">!=</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 rafiq  rural  jamil   male            2             2
2 maria  rural  jamil   female          4             4
3 jamila urban  sami    female          4             4
4 alina  rural  fareeha female          5             4</code></pre>
</div>
</div>
</section>
<section id="challenge" class="level2">
<h2 class="anchored" data-anchor-id="challenge">Challenge</h2>
<p><strong>Question:</strong> Filter to students who have a name that starts with an “m”. Hint: type “?substr” in the console and then scroll to the bottom of the help file to see useful examples.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">substr</span>(name, <span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">==</span> <span class="st">"m"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  name  school teacher sex    math_score reading_score
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir rural  jamil   male            4             1
2 maria rural  jamil   female          4             4</code></pre>
</div>
</div>
</section>
</section>
<section id="filter-with-groups" class="level1">
<h1>Filter with groups</h1>
<section id="example-3" class="level2">
<h2 class="anchored" data-anchor-id="example-3">Example</h2>
<p><strong>Question:</strong> Filter to teachers whose best math student got a score of 5.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">max</span>(math_score) <span class="sc">==</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
# Groups:   teacher [2]
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 pervaiz urban  sami    male            3             5
2 jamila  urban  sami    female          4             4
3 bobby   urban  sami    male            5             1
4 saima   rural  fareeha female          4             5
5 alina   rural  fareeha female          5             4</code></pre>
</div>
</div>
</section>
<section id="q1-3" class="level2">
<h2 class="anchored" data-anchor-id="q1-3">Q1</h2>
<p><strong>Question:</strong> Filter to the sex with a mean math score of 4.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">mean</span>(math_score) <span class="sc">==</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
# Groups:   sex [1]
  name   school teacher sex    math_score reading_score
  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 raeesa rural  jamil   female          3             5
2 maria  rural  jamil   female          4             4
3 jamila urban  sami    female          4             4
4 saima  rural  fareeha female          4             5
5 alina  rural  fareeha female          5             4</code></pre>
</div>
</div>
</section>
<section id="q2-3" class="level2">
<h2 class="anchored" data-anchor-id="q2-3">Q2</h2>
<p><strong>Question:</strong> Explain why the following code removes students who have fareeha as their teacher.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">|&gt;</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
# Groups:   teacher [2]
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil   male            4             1
2 raeesa  rural  jamil   female          3             5
3 rafiq   rural  jamil   male            2             2
4 maria   rural  jamil   female          4             4
5 pervaiz urban  sami    male            3             5
6 jamila  urban  sami    female          4             4
7 bobby   urban  sami    male            5             1</code></pre>
</div>
</div>
<p><strong>Answer:</strong> The “n()” stands for the number of rows. This returns the teachers with 3 or more rows in the data frame. This excludes fareeha because there are only 2 students who have fareeha as their teacher.</p>
</section>
</section>
<section id="mutate-1" class="level1">
<h1>Mutate</h1>
<section id="example-4" class="level2">
<h2 class="anchored" data-anchor-id="example-4">Example</h2>
<p><strong>Question:</strong> Both the math and reading scores were actually out of 50 – replace both variables to be 10 times their original values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">math_score =</span>  math_score <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">reading_score =</span> reading_score <span class="sc">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school teacher sex    math_score reading_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil   male           40            10
2 raeesa  rural  jamil   female         30            50
3 rafiq   rural  jamil   male           20            20
4 maria   rural  jamil   female         40            40
5 pervaiz urban  sami    male           30            50
6 jamila  urban  sami    female         40            40
7 bobby   urban  sami    male           50            10
8 saima   rural  fareeha female         40            50
9 alina   rural  fareeha female         50            40</code></pre>
</div>
</div>
</section>
<section id="q1-4" class="level2">
<h2 class="anchored" data-anchor-id="q1-4">Q1</h2>
<p><strong>Question:</strong> Create a new column called “math_reading_avg” which is the average of a students math and reading scores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">math_reading_avg =</span> (math_score <span class="sc">+</span> reading_score) <span class="sc">/</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
  name    school teacher sex    math_score reading_score math_reading_avg
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;            &lt;dbl&gt;
1 munir   rural  jamil   male            4             1              2.5
2 raeesa  rural  jamil   female          3             5              4  
3 rafiq   rural  jamil   male            2             2              2  
4 maria   rural  jamil   female          4             4              4  
5 pervaiz urban  sami    male            3             5              4  
6 jamila  urban  sami    female          4             4              4  
7 bobby   urban  sami    male            5             1              3  
8 saima   rural  fareeha female          4             5              4.5
9 alina   rural  fareeha female          5             4              4.5</code></pre>
</div>
</div>
</section>
<section id="q2-4" class="level2">
<h2 class="anchored" data-anchor-id="q2-4">Q2</h2>
<p><strong>Question:</strong> Create a new column “high_math_achiever” that is an indicator of if a student got a 4 or better on their math_score.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">high_math_achiever =</span> math_score <span class="sc">&gt;=</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
  name    school teacher sex    math_score reading_score high_math_achiever
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt; &lt;lgl&gt;             
1 munir   rural  jamil   male            4             1 TRUE              
2 raeesa  rural  jamil   female          3             5 FALSE             
3 rafiq   rural  jamil   male            2             2 FALSE             
4 maria   rural  jamil   female          4             4 TRUE              
5 pervaiz urban  sami    male            3             5 FALSE             
6 jamila  urban  sami    female          4             4 TRUE              
7 bobby   urban  sami    male            5             1 TRUE              
8 saima   rural  fareeha female          4             5 TRUE              
9 alina   rural  fareeha female          5             4 TRUE              </code></pre>
</div>
</div>
</section>
<section id="q3-3" class="level2">
<h2 class="anchored" data-anchor-id="q3-3">Q3</h2>
<p><strong>Question:</strong> Create a new column “reading_score_centered” that is a students reading score with the mean of all students’ reading scores subtracted from it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reading_score_centered =</span> reading_score <span class="sc">-</span> <span class="fu">mean</span>(reading_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
  name    school teacher sex    math_score reading_score reading_score_centered
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;                  &lt;dbl&gt;
1 munir   rural  jamil   male            4             1                 -2.44 
2 raeesa  rural  jamil   female          3             5                  1.56 
3 rafiq   rural  jamil   male            2             2                 -1.44 
4 maria   rural  jamil   female          4             4                  0.556
5 pervaiz urban  sami    male            3             5                  1.56 
6 jamila  urban  sami    female          4             4                  0.556
7 bobby   urban  sami    male            5             1                 -2.44 
8 saima   rural  fareeha female          4             5                  1.56 
9 alina   rural  fareeha female          5             4                  0.556</code></pre>
</div>
</div>
</section>
<section id="q4-1" class="level2">
<h2 class="anchored" data-anchor-id="q4-1">Q4</h2>
<p><strong>Question:</strong> Create a new column “science_score”. You can make up what the actual scores are!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">science_score =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
  name    school teacher sex    math_score reading_score science_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
1 munir   rural  jamil   male            4             1             1
2 raeesa  rural  jamil   female          3             5             2
3 rafiq   rural  jamil   male            2             2             3
4 maria   rural  jamil   female          4             4             4
5 pervaiz urban  sami    male            3             5             5
6 jamila  urban  sami    female          4             4             4
7 bobby   urban  sami    male            5             1             3
8 saima   rural  fareeha female          4             5             2
9 alina   rural  fareeha female          5             4             1</code></pre>
</div>
</div>
</section>
</section>
<section id="mutate-with-groups" class="level1">
<h1>Mutate with groups</h1>
<section id="q1-5" class="level2">
<h2 class="anchored" data-anchor-id="q1-5">Q1</h2>
<p><strong>Question:</strong> munir and saima both got a 4 for their math score. Explain why why munir has a higher “math_score_centered_by_sex” score.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">math_score_centered_by_sex =</span> math_score <span class="sc">-</span> <span class="fu">mean</span>(math_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
# Groups:   sex [2]
  name    school teacher sex    math_score reading_score math_score_centered_b…¹
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;                   &lt;dbl&gt;
1 munir   rural  jamil   male            4             1                     0.5
2 raeesa  rural  jamil   female          3             5                    -1  
3 rafiq   rural  jamil   male            2             2                    -1.5
4 maria   rural  jamil   female          4             4                     0  
5 pervaiz urban  sami    male            3             5                    -0.5
6 jamila  urban  sami    female          4             4                     0  
7 bobby   urban  sami    male            5             1                     1.5
8 saima   rural  fareeha female          4             5                     0  
9 alina   rural  fareeha female          5             4                     1  
# ℹ abbreviated name: ¹​math_score_centered_by_sex</code></pre>
</div>
</div>
<p><strong>Answer:</strong> We are subtracting the mean math score for that person’s sex off of their score. munir has a higher “math_score_centered_by_sex” because males did worse on average on math and so a small number is subtracted off of his score of 4.</p>
</section>
<section id="q2-5" class="level2">
<h2 class="anchored" data-anchor-id="q2-5">Q2</h2>
<p><strong>Question:</strong> Create a “reading_score_centered_by_teacher” column. What can you learn from it?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">|&gt;</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reading_score_centered_by_teacher =</span> reading_score <span class="sc">-</span> <span class="fu">mean</span>(reading_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
# Groups:   teacher [3]
  name    school teacher sex    math_score reading_score reading_score_centere…¹
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;                   &lt;dbl&gt;
1 munir   rural  jamil   male            4             1                  -2    
2 raeesa  rural  jamil   female          3             5                   2    
3 rafiq   rural  jamil   male            2             2                  -1    
4 maria   rural  jamil   female          4             4                   1    
5 pervaiz urban  sami    male            3             5                   1.67 
6 jamila  urban  sami    female          4             4                   0.667
7 bobby   urban  sami    male            5             1                  -2.33 
8 saima   rural  fareeha female          4             5                   0.5  
9 alina   rural  fareeha female          5             4                  -0.5  
# ℹ abbreviated name: ¹​reading_score_centered_by_teacher</code></pre>
</div>
</div>
<p><strong>Answer:</strong> We can learn lots of things! For example, relative to other students in their class, bobby did worst on reading and raeesa did the best.</p>
</section>
<section id="q3-4" class="level2">
<h2 class="anchored" data-anchor-id="q3-4">Q3</h2>
<p><strong>Question:</strong> Make a “number_of_students_in_class” column that is number of students in a student’s class. For example, it should be 4 for munir and 3 for pervaiz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">|&gt;</span> </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">number_of_students_in_class =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 7
# Groups:   teacher [3]
  name    school teacher sex    math_score reading_score number_of_students_in…¹
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;                   &lt;int&gt;
1 munir   rural  jamil   male            4             1                       4
2 raeesa  rural  jamil   female          3             5                       4
3 rafiq   rural  jamil   male            2             2                       4
4 maria   rural  jamil   female          4             4                       4
5 pervaiz urban  sami    male            3             5                       3
6 jamila  urban  sami    female          4             4                       3
7 bobby   urban  sami    male            5             1                       3
8 saima   rural  fareeha female          4             5                       2
9 alina   rural  fareeha female          5             4                       2
# ℹ abbreviated name: ¹​number_of_students_in_class</code></pre>
</div>
</div>
</section>
</section>
<section id="summarize" class="level1">
<h1>Summarize</h1>
<section id="example-5" class="level2">
<h2 class="anchored" data-anchor-id="example-5">Example</h2>
<p><strong>Question:</strong> Use the summarize command to find the mean math score for all students.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">math_score_mean =</span> <span class="fu">mean</span>(math_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  math_score_mean
            &lt;dbl&gt;
1            3.78</code></pre>
</div>
</div>
</section>
<section id="q1-6" class="level2">
<h2 class="anchored" data-anchor-id="q1-6">Q1</h2>
<p><strong>Question:</strong> Use the summarize command to find the mean reading score for all students.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">reading_score_mean =</span> <span class="fu">mean</span>(reading_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  reading_score_mean
               &lt;dbl&gt;
1               3.44</code></pre>
</div>
</div>
</section>
<section id="q2-6" class="level2">
<h2 class="anchored" data-anchor-id="q2-6">Q2</h2>
<p><strong>Question:</strong> Use the summarize command to find the median for both math scores and reading scores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">math_score_median =</span> <span class="fu">median</span>(math_score),</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">reading_score_median =</span> <span class="fu">median</span>(reading_score)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  math_score_median reading_score_median
              &lt;dbl&gt;                &lt;dbl&gt;
1                 4                    4</code></pre>
</div>
</div>
</section>
<section id="q3-5" class="level2">
<h2 class="anchored" data-anchor-id="q3-5">Q3</h2>
<p><strong>Question:</strong> Look closely at the following code. Why is it throwing an error? How can Rstudio help you see this error?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">math_score_max =</span> <span class="fu">max</span>(math_score),</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">reading_score_min =</span> <span class="fu">min</span>(reading_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  math_score_max reading_score_min
           &lt;dbl&gt;             &lt;dbl&gt;
1              5                 1</code></pre>
</div>
</div>
<p><strong>Answer:</strong> We need another “)” at the end of the code. The first “)” is for the min function but we also need a “)” to end the summarize function. Rstudio helps because if you go to the right of a paranthese, it highlights the corresponding closing paranthese.</p>
</section>
</section>
<section id="summarize-with-groups" class="level1">
<h1>Summarize with groups</h1>
<section id="example-6" class="level2">
<h2 class="anchored" data-anchor-id="example-6">Example</h2>
<p><strong>Question:</strong> Find the minimum math score for each school.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">min_math_score =</span> <span class="fu">min</span>(math_score),<span class="at">.by=</span>school)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  school min_math_score
  &lt;chr&gt;           &lt;dbl&gt;
1 rural               2
2 urban               3</code></pre>
</div>
</div>
</section>
<section id="q1-7" class="level2">
<h2 class="anchored" data-anchor-id="q1-7">Q1</h2>
<p><strong>Question:</strong> Find the maximum math score for each teacher.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">max_math_score =</span> <span class="fu">max</span>(math_score),<span class="at">.by=</span>teacher)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  teacher max_math_score
  &lt;chr&gt;            &lt;dbl&gt;
1 jamil                4
2 sami                 5
3 fareeha              5</code></pre>
</div>
</div>
</section>
<section id="q2-7" class="level2">
<h2 class="anchored" data-anchor-id="q2-7">Q2</h2>
<p><strong>Question:</strong> If we grouped by sex, and then summarized with the minimum reading score, how many rows would the resulting data frame have?</p>
<p><strong>Answer:</strong> There would be one for each group. Because there are two sexs in the data frame, there would be two rows. See:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">min</span>(reading_score)) <span class="co"># side note: notice what happens when we don't provide a variable name</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex    `min(reading_score)`
  &lt;chr&gt;                 &lt;dbl&gt;
1 female                    4
2 male                      1</code></pre>
</div>
</div>
</section>
<section id="q3-6" class="level2">
<h2 class="anchored" data-anchor-id="q3-6">Q3</h2>
<p><strong>Question:</strong> Remember that mutate always keeps the same number of rows but summarize usually reduces the number of rows. Why doesn’t the following use of summarize reduce the number of rows?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">math_score_mean =</span> <span class="fu">mean</span>(math_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  name    math_score_mean
  &lt;chr&gt;             &lt;dbl&gt;
1 alina                 5
2 bobby                 5
3 jamila                4
4 maria                 4
5 munir                 4
6 pervaiz               3
7 raeesa                3
8 rafiq                 2
9 saima                 4</code></pre>
</div>
</div>
<p><strong>Answer:</strong> Summarize with groups makes one row for each group. In this case, we’re grouping by name and everyone has a different name!</p>
</section>
<section id="q4-2" class="level2">
<h2 class="anchored" data-anchor-id="q4-2">Q4</h2>
<p><strong>Question:</strong> Create a data frame with the mean and median reading score by sex, as well as the number of students of that sex.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_reading_score =</span> <span class="fu">mean</span>(reading_score),</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_reading_score =</span> <span class="fu">median</span>(reading_score),</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>()</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  sex    mean_reading_score median_reading_score count
  &lt;chr&gt;               &lt;dbl&gt;                &lt;dbl&gt; &lt;int&gt;
1 female               4.4                   4       5
2 male                 2.25                  1.5     4</code></pre>
</div>
</div>
</section>
</section>
<section id="combining-verbs" class="level1">
<h1>Combining verbs</h1>
<section id="example-7" class="level2">
<h2 class="anchored" data-anchor-id="example-7">Example</h2>
<p><strong>Question:</strong> Select just the name and math_score columns. Then create a new column “math_score_ec” that is a students math score plus 5 extra credit points. Finally, arrange the data frame by math_score_ec from low to high.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, math_score) <span class="sc">|&gt;</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">math_score_ec =</span> math_score <span class="sc">+</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(math_score_ec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  name    math_score math_score_ec
  &lt;chr&gt;        &lt;dbl&gt;         &lt;dbl&gt;
1 rafiq            2             7
2 raeesa           3             8
3 pervaiz          3             8
4 munir            4             9
5 maria            4             9
6 jamila           4             9
7 saima            4             9
8 bobby            5            10
9 alina            5            10</code></pre>
</div>
</div>
</section>
<section id="q1-8" class="level2">
<h2 class="anchored" data-anchor-id="q1-8">Q1</h2>
<p><strong>Question:</strong> Select every column except the teacher column. Create a new variable called “mean_score” that is the mean of a student’s math and reading score. Finally, arrange the data frame by mean_score from low to high.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>teacher) <span class="sc">|&gt;</span> </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_score =</span> (math_score <span class="sc">+</span> reading_score) <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  name    school sex    math_score reading_score mean_score
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;
1 saima   rural  female          4             5        4.5
2 alina   rural  female          5             4        4.5
3 raeesa  rural  female          3             5        4  
4 maria   rural  female          4             4        4  
5 pervaiz urban  male            3             5        4  
6 jamila  urban  female          4             4        4  
7 bobby   urban  male            5             1        3  
8 munir   rural  male            4             1        2.5
9 rafiq   rural  male            2             2        2  </code></pre>
</div>
</div>
</section>
<section id="q2-8" class="level2">
<h2 class="anchored" data-anchor-id="q2-8">Q2</h2>
<p><strong>Question:</strong> Remove any students with sami as a teacher, then find the mean math_score by sex.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(teacher <span class="sc">!=</span> <span class="st">"sami"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> </span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_math_score =</span> <span class="fu">mean</span>(math_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  sex    mean_math_score
  &lt;chr&gt;            &lt;dbl&gt;
1 female               4
2 male                 3</code></pre>
</div>
</div>
</section>
<section id="q3-7" class="level2">
<h2 class="anchored" data-anchor-id="q3-7">Q3</h2>
<p><strong>Question:</strong> Find the min, max, and median reading_score for female students at rural school.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"female"</span>, school <span class="sc">==</span> <span class="st">"rural"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">min_reading_score =</span> <span class="fu">min</span>(reading_score),</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_reading_score =</span> <span class="fu">max</span>(reading_score),</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">median_reading_score =</span> <span class="fu">median</span>(reading_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  min_reading_score max_reading_score median_reading_score
              &lt;dbl&gt;             &lt;dbl&gt;                &lt;dbl&gt;
1                 4                 5                  4.5</code></pre>
</div>
</div>
</section>
<section id="q4-3" class="level2">
<h2 class="anchored" data-anchor-id="q4-3">Q4</h2>
<p><strong>Question:</strong> Inspect each of the following code blocks. They both do about the same thing. Which one do you think is preferred from a computer efficiency standpoint?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># code block 1</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school, teacher) <span class="sc">|&gt;</span> </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">max_math_score =</span> <span class="fu">max</span>(math_score)) <span class="sc">|&gt;</span> </span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school <span class="sc">==</span> <span class="st">"rural"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'school'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
# Groups:   school [1]
  school teacher max_math_score
  &lt;chr&gt;  &lt;chr&gt;            &lt;dbl&gt;
1 rural  fareeha              5
2 rural  jamil                4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># code block 2</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">|&gt;</span> </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school <span class="sc">==</span> <span class="st">"rural"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teacher) <span class="sc">|&gt;</span> </span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">max_math_score =</span> <span class="fu">max</span>(math_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  teacher max_math_score
  &lt;chr&gt;            &lt;dbl&gt;
1 fareeha              5
2 jamil                4</code></pre>
</div>
</div>
<p><strong>Answer:</strong> They both get the max math score by teacher for teachers at rural school. The first block calculates the max_math_score for both urban and rural and then filters out urban after that calculation. The second block filters out urban right away. This is preferred because it prevents the computer from making unnecessary calculations.</p>
</section>
<section id="challenge-1" class="level2">
<h2 class="anchored" data-anchor-id="challenge-1">Challenge</h2>
<p>Play around with these tools. Write a question or two that you think best exposes a misunderstanding you had or drills down on an important thing to remember. I’d love to add these questions in the future! Feel free to email what you came up with to</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>